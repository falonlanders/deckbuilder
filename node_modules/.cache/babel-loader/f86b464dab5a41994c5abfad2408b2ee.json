{"ast":null,"code":"import _regeneratorRuntime from\"/Users/falonlanders/Desktop/Fullstack/Project_16/Deckbuilder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/falonlanders/Desktop/Fullstack/Project_16/Deckbuilder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/falonlanders/Desktop/Fullstack/Project_16/Deckbuilder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Component,useEffect}from'react';import{fetchCards,fetchTypes}from'../api';import'./Search.css';var SearchBar=function SearchBar(_ref){var setResults=_ref.setResults;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),text=_useState4[0],setText=_useState4[1];//set type in search\nvar _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),types=_useState6[0],setType=_useState6[1];//creating dropdown\nvar _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),allTypes=_useState8[0],setAllTypes=_useState8[1];//slow api.....\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isLoading=_useState10[0],setIsLoading=_useState10[1];var handleNameChange=function handleNameChange(event){setName(event.target.value);};var handleTextChange=function handleTextChange(event){setText(event.target.value);};var handleDropdown=function handleDropdown(event){setType(event.target.value);};useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.t0=setAllTypes;_context.next=4;return fetchTypes();case 4:_context.t1=_context.sent;(0,_context.t0)(_context.t1);setIsLoading(false);case 7:case\"end\":return _context.stop();}}},_callee);})),[]);function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var cards;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.next=3;return fetchCards({name:name,text:text,types:types});case 3:cards=_context2.sent;setResults(cards);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{id:\"search\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Look up cards here...\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"input\",{className:\"searchBar\",type:\"text\",placeholder:\"card name\",value:name,onChange:handleNameChange}),/*#__PURE__*/React.createElement(\"input\",{className:\"searchBar\",type:\"text\",placeholder:\"card text\",value:text,onChange:handleTextChange}),isLoading?/*#__PURE__*/React.createElement(\"select\",{className:\"dropdown\"},/*#__PURE__*/React.createElement(\"option\",{value:\"\",disabled:true,selected:true,hidden:true},\"select a type\")):/*#__PURE__*/React.createElement(\"select\",{onChange:handleDropdown},/*#__PURE__*/React.createElement(\"option\",{value:\"\",disabled:true,selected:true,hidden:true},\"select a type\"),allTypes.map(function(type,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:type},type);})),/*#__PURE__*/React.createElement(\"button\",{id:\"searchButton\",type:\"submit\"},\"Search\")));};export default SearchBar;","map":{"version":3,"sources":["/Users/falonlanders/Desktop/Fullstack/Project_16/Deckbuilder/src/components/SearchBar.js"],"names":["React","useState","Component","useEffect","fetchCards","fetchTypes","SearchBar","setResults","name","setName","text","setText","types","setType","allTypes","setAllTypes","isLoading","setIsLoading","handleNameChange","event","target","value","handleTextChange","handleDropdown","handleSubmit","preventDefault","cards","map","type","index"],"mappings":"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","sourcesContent":["import React, { useState, Component, useEffect } from 'react';\nimport {\n    fetchCards, fetchTypes,\n} from '../api';\nimport './Search.css';\n\n\nconst SearchBar = ({ setResults }) => {\n    const [name, setName] = useState('');\n    const [text, setText] = useState('');\n    //set type in search\n    const [types, setType] = useState('');\n    //creating dropdown\n    const [allTypes, setAllTypes] = useState([]);\n    //slow api.....\n    const [isLoading, setIsLoading] = useState(false);\n\n    const handleNameChange = event => {\n        setName(event.target.value);\n    }\n    const handleTextChange = event => {\n        setText(event.target.value);\n    }\n\n    const handleDropdown = event => {\n        setType(event.target.value);\n    }\n\n    useEffect(async () => {\n        setIsLoading(true);\n        setAllTypes(await fetchTypes());\n        setIsLoading(false);\n    }, []);\n\n    async function handleSubmit(event) {\n        event.preventDefault();\n        const cards = await fetchCards({\n            name,\n            text,\n            types,\n        });\n        setResults(cards);\n    }\n\n    return (\n        <div id=\"search\">\n            <h3>Look up cards here...</h3>\n            <form onSubmit={handleSubmit}>\n                <input className=\"searchBar\"\n                    type=\"text\"\n                    placeholder=\"card name\"\n                    value={name}\n                    onChange={handleNameChange} />\n                <input className=\"searchBar\"\n                    type=\"text\"\n                    placeholder=\"card text\"\n                    value={text}\n                    onChange={handleTextChange} />\n                {\n                    isLoading ? <select className=\"dropdown\">\n                        <option value=\"\" disabled selected hidden>select a type</option>\n                    </select>\n                        : <select onChange={handleDropdown}>\n                            <option value=\"\" disabled selected hidden>select a type</option>\n                            {allTypes.map((type, index) => {\n                                return <option key={index} value={type}>{type}</option>\n                            })\n                            }\n                        </select>\n                }\n                <button id=\"searchButton\" type=\"submit\">Search</button>\n            </form >\n        </div >\n    );\n}\n\n\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}